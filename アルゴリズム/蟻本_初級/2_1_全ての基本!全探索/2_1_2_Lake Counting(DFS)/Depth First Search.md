# 参考

- https://algo-logic.info/dfs/
- DFS (深さ優先探索) 超入門！ 〜 グラフ・アルゴリズムの世界への入口 〜【前編】
  - https://qiita.com/drken/items/4a7869c5e304883f539b
- DFS (深さ優先探索) 超入門！ 〜 グラフ・アルゴリズムの世界への入口 〜【後編】
  - https://qiita.com/drken/items/a803d4fc4a727e02f7ba

# グラフ
## グラフとは

## 有向グラフと無向グラフ

## グラフの例

# 計算機上でのグラフの表し方

## 補足1：辺に重みがある場合
## 補足2：Boost Graph Library
# 深さ優先探索(DFS)と幅優先探索(BFS)
## グラフ探索の一般的なフレームワーク
## 木の場合の探索順
## DFSの再帰関数を用いた実装
## DFSの探索順序についての詳細
## タイムスタンプ
## DFSの計算量

# グラフ上の様々な例題
## sからtへたどり着けるか
### グリッドグラフの場合
## 連結成分の個数
### グリッドグラフの場合の類題
## 二部グラフ判定
### 類題
## 根のない木の走査
## トポロジカルソート
## サイクル検出
# 発展的話題
## 動的計画法
## 木の直径
## 木の重心
## オイラー閉路
## 強連結成分分解
## 橋と関節点
## ネットワークフロー
# おわりに


# DFS(Depth First Search, 深さ優先探索)とは？？

全探索アルゴリズムの一種。
グラフや、グラフと同一視できるものを探索する際に良く使われる。

幅優先探索(BFS)と似ているが、深さ優先探索は末端に到達するまで「深く」探索してから、他のノードの探索を始める。

以下はDFSの状態遷移の順番

![](https://algo-logic.info/wp-content/uploads/2019/12/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2019-12-02-10.51.44-1-768x517.png)

# DFSのアルゴリズム

深さ優先探索は、「とりあえずこれ以上進めなくなるまで探索したら、戻って別のルートで探索し直す」ようなアルゴリズム。

実装方法としては、主に二種類

- スタックと呼ばれるデータ構造を用いた方法
- 再帰関数を用いた方法

## スタックを用いたアルゴリズム

1. 始めの状態から遷移可能な状態を、全てスタックに入れる
2. スタックに要素がなければ終了する
3. 現在の状態から遷移可能な状態を、全てスタックに入れる
4. スタックから1つ要素を取り出し、そこに状態を遷移させる
5. 2.に戻る

- 今まで通った場所をスタックに保存しながら進み、末端に到達したらスタックからどこに戻るかの情報を取出する。
- 幅優先探索のアルゴリズムのうち、キューをスタックに変更しただけで実装できる。

途中の状態は以下のようになる。

(2まで探索した時の状態)
![](https://algo-logic.info/wp-content/uploads/2019/12/%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88-2019-12-02-10.50.09-768x532.png)

## 再帰関数を用いたアルゴリズム

1. 現在探索中の頂点 u を「探索済み」として記録しておく
2. u と隣接している頂点のうち、「未探索」の頂点 v について以下を行う
   1. dfs(v) によって v を探索する

- 再帰関数を用いて深さ優先探索を実装できる。遷移可能な状態の個数分だけ、再帰関数を呼出して分岐させていきます。コンピュータ内部で関数を使う際に、スタックにデータを保存しておくため、先ほどと同様の動作になる。
- プログラムは上から下へ実行されるため、再帰関数の呼び出され方がスタックを用いた時と同じ様になる。遷移可能な状態が無くなる（末端にたどり着く）まで、戻って別のノードを探索することはない。
- 先程の図でいうと、状態1の時には、「状態2へ分岐する再帰関数」と「状態5へ分岐する再帰関数」を呼び出す。プログラムは上から下へ実行されるので、「状態2へ分岐する再帰関数」が先に実行され、これが終了するまで「状態5へ分岐する再帰関数」が呼び出されることはない。
- DFSの応用例としては、 DFSによる全探索がある。DFSによって複雑な条件下での全探索をきれいに実装することができる。

## 計算量
グラフ G=(V,E) を深さ優先探索する場合は、（状況にもよるが）全ての頂点と辺を走査することになるので、計算量は O(V+E) になる。

## スタックと再帰関数のどちらが良いか

- スタックを用いると幅優先探索と同様に書けるというメリットがあり、逆に再帰関数を用いると簡単に実装することができるというメリットがある。
- また、再帰関数は再帰が深くなるとスタックオーバーフローになる可能性があるので注意が必要。
- 状況に合わせて、もしくは自分の好みで、どちらで実装するかを決めれば良い。

# 例題1: DFSで同じ連結成分にあるか判定する（グラフ）

>頂点数 V 、辺の数 E のグラフについて、頂点 s から頂点 t に到達できるかを探索するプログラムを書いてみましょう。到達できれば 'yes’ と出力し、到達できなければ 'no’ と出力します。
>