# 参考

- https://qiita.com/drken/items/fd4e5e3630d0f5859067#%E7%AC%AC-8-%E5%95%8F--abc-085-c---otoshidama-300-%E7%82%B9

# 【問題概要】

10000 円札と、5000 円札と、1000 円札が合計で NN 枚あって、合計金額が YY 円であったという。このような条件を満たす各金額の札の枚数の組を 1 つ求めなさい。そのような状況が存在し得ない場合には -1 -1 -1 と出力しなさい。

# キーポイント

- for 文を用いた全探索
- 二重三重の for 文
- 少し工夫が必要

# 解法:

ここからついに 300 点問題です！！！
200 点問題までは「計算実行時間」のことはほとんど何も考えなくても解くことができました。300 点問題からは計算時間のことを意識する必要が生じます。

さて、まず最初に思い浮かぶ解法は、以下のような for 文を三重ループで回す解法でしょう。すなわち、10000 円札を a 枚、5000 円札を b 枚、1000 円札を c 枚として、(a, b, c) のありうる組合せを全探索します。

```C++
for (int a = 0; a <= N; ++a) {
　for (int b = 0; b <= N; ++b) {
　　for (int c = 0; c <= N; ++c) {
　　　int total = 10000*a + 5000*b + 1000*c;
　　　if (a + b + c == N && total == Y) {
　　　　// 見つかった！
　　　}
　　}
　}
}
```

しかしこのとき調べる場合の数は $(N+1)^3$ 通りになります。今、N としてありうる最大値は 2000 ですので、ざっくり+1 を除くと $2000^3=8,000,000,000$通りも調べることになります。

ここで重要な知見として、

- 1 秒間で処理できる for 文ループの回数は、$10^8 = 100,000,000$回程度

というのがある。ざっくりとしていますが、今後いかなるときも常に頭に置いておく目安です。さて、これでは制限時間 2 秒以内に計算実行するは厳しいことがわかると思います。

工夫が必要なのですが、よく考えると最後の

```C++
for (int c = 0; c <= N; ++c)
```

が不要であることに気がつきます。なぜなら、$a+b+c=N$である事が最初から条件として課せられている為、a, b,が決まれば、c = N-a-bと自動的に決まる。
そうするとforループは二重で済み、今度はざっくりと$2000^2 = 4,000,000$なので、制限時間内に計算実行を終える事ができそうです。

```c++
#include <iostream>
using namespace std;

int main() {
    int N, Y;
    cin >> N >> Y;
    int res10000 = -1, res5000 = -1, res1000 = -1;
    for (int a = 0; a <= N; ++a) {  // 10000円の枚数を 0 〜 N で調べる
        for (int b = 0; b + a <= N; ++b) {  // 5000円の枚数を 0 〜 N-a で調べる
            int c = N - a - b;  // 1000円の枚数は決まる
            int total = 10000*a + 5000*b + 1000*c;
            if (total == Y) {  // 答えが見つかったら
                res10000 = a;
                res5000 = b;
                res1000 = c;
            }
        }
    }

    // 答えを出力 (見つかっていなくても -1 -1 -1 になるので OK です)
    cout << res10000 << " " << res5000 << " " << res1000 << endl;
}
```

# コメント

プログラムの計算時間をざっくり見積もる非常に有効な方法として、計算量オーダーと呼ばれる概念があります。初めはとっつきにくいかもしれませんが、慣れると非常に有効な概念です。計算量オーダーの言葉で説明すると、この例題ではO(N^3)掛かる処理をO(N^2)に高速化したと言うことができる。

参考：計算量オーダーの求め方を総整理
- https://qiita.com/drken/items/872ebc3a2b5caaa4a0d0



# 類題

- ABC 088 C - Takahashi's Information　(やはり効率良い探索方法を考えます)
- ARC 096 C - Half and Half　(明快な全探索方法を考えましょう、実は O(1) 解法もあります)
- ABC 057 C - Digits in Multiplication　(AA を全探索すればよいですが、1≤A≤N1≤A≤N のすべてを全探索していては間に合いません、実は 1≤A≤N−−√1≤A≤N だけ調べればよいです)
- ABC 112 C - Pyramid　(パズルだと思って解くと難しいかもしれません、探索すればよいと思い至ることが重要です)
