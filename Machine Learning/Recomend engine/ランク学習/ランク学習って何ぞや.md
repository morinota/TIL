# ランク学習ってなんぞや??

ランク学習は機械学習の枠組みの１つで、**文書の並び順を予測**する手法。

## 「良い」検索結果と「悪い」検索結果

私たちは日常的に検索サービスに触れている。

- Web検索(ex. Google, ヤフー)
- ECサイト(ex. Amazon)やwebアプリ内(ex. 食べログ)での検索サービス

さて例えば、Googleで「任天堂 switch」と検索してみる。
検索結果の1件目と2件s目は任天堂の公式ホームページ、3件目と4件目はAmazonが出てくる。

この検索結果は非常に素晴らしい。公式ホームページが検索結果上位に出るべきだし、AmazonなどのECサイトを出すことでユーザーの購買行動にも繋がる。

一方で、検索サービスを使っていると、残念な検索結果に出くわす事もある。
例えばAmazonで「任天堂 switch」と検索したところ、なぜか「Switch（字幕版）」というプライムビデオが現われた。

## 検索結果・スコア付け

「良い」検索結果を返すweb検索サービスを作るにはどうしたら良いのか。

まず、**検索結果で返すwebページはキーワードとマッチ**していないといけない。

- 例えば、「任天堂 switch」というキーワードに対して、少なくとも「任天堂」と「switch」という単語を含むwebページを返すべきだろう...。
- この処理は**検索エンジンにおけるインデックス処理**に対応する。
- 「任天堂」という単語を含むwebページと「switch」という単語を含むwebページをあらかじめ集めておいて、キーワードが投げられたタイミングで両方の単語を含むwebページを返す。

さて、「任天堂」と「switch」が含まれるwebページを集めることはできたが、検索結果を作るには、これらのwebページを**何かしらの基準で並べないといけない**。

- **「任天堂」と「switch」がwebページの文書にたくさん入っていれば**、その文書はキーワードとの関連性が高いと思われるので、高いスコアを付けるのは正しそう...。
- この辺りのスコア付けは様々な手法が提案されている。TF-IDFやBM25といった手法が有名。

# 検索システムにおける、機械学習によるランキング



# ランク学習ってなんぞや？レコメンドとの関係

ランク学習(Learing to Rank: LTR)は**検索クエリ**(情報検索なら検索ワード、**レコメンドならユーザー**)に対する、アイテムのランク付けを目的としている。

# 参考

- ゼロから始めるランク学習
  - https://www.szdrblog.info/entry/2018/12/03/004600
- ランク学習ってどうやって学習するの？学習データ・特徴量・損失関数
  - https://www.szdrblog.info/entry/2018/12/04/010611
- LightGBMでサクッとランク学習やってみる
  - https://www.szdrblog.info/entry/2018/12/05/001732
- LGBMRankerを使ってAmazonのレビューデータセットでランク学習してみる
  - https://yolo-kiyoshi.com/2021/02/08/post-2606/
