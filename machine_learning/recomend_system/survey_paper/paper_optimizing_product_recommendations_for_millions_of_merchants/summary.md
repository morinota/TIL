# Optimizing product recommendations for millions of merchants

published date: 13 September 2022,
authors: Kim Falk, Chen Karako
url: https://dl.acm.org/doi/10.1145/3523227.3547393
<!-- (勉強会発表者: morinota) -->

---

## どんなもの?

- RecSys 2022 の "Large-Scale Recommendation"セッションにて投稿された論文.
- オンラインストアプラットフォームShopify における、おすすめ商品欄の生成方法に関する論文.
  - プラットフォーム上で、食品やアパレル、電子機器等に関するオンラインストア加盟店が175ヶ国・数百万店にも登り独立に運営.
  - 各ストアのおすすめ商品欄の開発はShopifyが担当している.
- ストア毎にユーザの傾向や traffic量 が異なり、あるモデルが**全体的な指標を向上させたとしても、一部のストアではRecommendationを大幅に悪化させる可能性**がある.
- Shopifyの加盟店向けに推薦システムを構築する場合、**一部の加盟店のみに最適化するのではなく**、加盟店の多様性とそのニーズを考慮し、すべての加盟店にメリットがあるシステムを構築する必要がある.
- **特定のセグメントやストアに対してどの推薦モデルが最も効果的か**を学習する事で、各ストアに適用するRecommendationの種類を最適化した.

## 先行研究と比べて何がすごい？

先行研究との比較は特になし.

## どうやって有効だと検証した?

- **3つのモデルのclick-through rate**を、いくつかの加盟店セグメントで比較した.
- 結果はFigure 1.
- 異なるセグメントでは、異なる色のバーがより高いことを示しているように、**異なるモデルが異なるセグメントで最高のパフォーマンスを発揮している**ことがわかる.
- ユーザーの傾向が大きく異なるストアが多数存在するShopifyでは、一見プラットフォーム全体で指標が向上しているように見えるモデルでも、一部のセグメントのストアには不利益が生じてしまう恐れがある.
- Shopifyのプラットフォーム規模では個別のストア毎にモデルを開発することは難しく、**個々のストアに不利益を出さずに最適なモデルを改善していく必要がある**.

![Figure 1: Click-through rates for 3 different models across different merchant segments.](https://cdn-ak.f.st-hatena.com/images/fotolife/m/m3tech/20221218/20221218110012.png)

## 技術や手法の肝は？

- 複数の推薦モデルを用意し、Multi-Armed Banditにより各ストア毎に最適な推薦モデルを選択していく.
  - Banditは各ストア毎に、ある確率で explore(探索) または exploit(活用)を行いながら、適用する推薦モデルを選択する.
  - 観測された reward signals(=本論文のケースでは購買率など?)に基づいて、各strategy(=本論文のケースでは推薦モデル)のスコアを継続的に更新する.
  - 具体的にどのようなBanditアルゴリズムを適用しているかは論文には記述がなかった.

## 議論はある？

うーん...

## 次に読むべき論文は？

- RecSys 2022関連の論文を読み漁ってみようかな.
-
